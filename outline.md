# 个性化内容分发(推荐)-寻路推荐

- ## 第一章 概述
  - 定义与历史(什么是推荐/机器学习/用户画像/特征工程)
    - 算法工程师在做什么
        - 在学校的时候以为：
        - 进公司以后发现：
    - 大数据的边际成本趋于零，DT时代最好的生产资料
    - 互联网进程
      - 本地化
      - 移动化
      - 多元化
      - 碎片化
    - 大数据存在非常强的网络效应：1+1>2
    - 信息经济--体验经济
    - 互联网产业催生“大数据+ 机器学习”
    - 互联网产业伴生着海量数据
    - 互联网产业包含众多机器学习任务
    - 市场营销学/网络经济学
    - 
    - 买家与卖家快速匹配,并且是一个有人情味的集市
      - 未来电商不能只做成交
      - 提升买家用户的体验，提高选购决策质量与效率实现优质买家的差异化服
      - 提高商品的有效曝光机会与转化率，提升卖 家用户的效果与效益
      - 利益均衡机制，均衡曝光机会，提升曝光商 品及商家的覆盖率
      - 提升买家留存率与卖家续签率，提升买卖家的忠诚度，提升商品点击机率及P4P的收
    - 推荐系统的台前-幕后
    - 推荐需要解决的问题
      - 商品更新
      - 商品质量
      - 商品与买家的匹配程度
    - 自然排名
      - 销量等综合得分
      - 时间
    - 马太效应
      - 有者愈有，强者愈强
      - 热门商品越热门，新商品很难发现
      - 解决
        - 补偿不利位置商品
        - 随机
        - 个性化推荐相关冷启动方法，找到相似的老商品作为参考
    - 人类视觉窄化
    - 雪中送碳
    - f(人+物)=rate
    - 人(评分/偏好/地理位置...)
    - 实际生产中前置了一个找相关阈值以上商品列表的步骤
    - 信息过载-知识溃泛-时间有限
    - 锦上添花的作用
    - 兴趣发现/路径优化
    - 长尾理论与马斯洛需求理论
      - 20%的商品收到了74%的用户交互(用户不是不喜欢，是没有看到)
    - user profile&contextual parm + community data + product features + knowledge models --> recommendation model -->recom list 
    - 高效/准确地找到长尾商品  
    - 5w
    - 个性化，是一个系统工程
       - 业务经验-数据-产品形态-算法
    - 帮助用户感知，而不强迫TA思考
    - 天下武功，唯快不破
    - full-funnel sale:lead-prospects-customer-renewal
  - 提升用户体验和满意度，增强用户粘性
    – 消费需求的变化：
      - 单一/从众 -- 多样/个性/品位
    – 信息的极大丰富
      - 需要有效的信息过--工具
  - 信息化--数据化--智能化
  - 应用举例(淘宝/头条/美团等等)
    - 衣食住行
    - 产品分类
      - 商品/文本/图片/音频/视频/混合
    - 草根，青铜，黄金时代
    - 浏览与成交的巨大鸿沟
    - 身边的推荐
    - 推荐技术应用场景:商品/新闻/视频/长尾广告推荐
    - 任务:trade in cross up 
      - 消费的深度
        - 特定场景下提升推荐转换
      - 消费的广度
        - 提升推荐对物料的覆盖
        - 提升对用户的覆盖
        - 场景的扩充
      - 浅层消费--深层消费--扩展消费
    - 什么样的产品适合推荐
      - 能够获得快速反馈
      - 条目增长相对稳定
      - 稀疏性，多样性，时效性的平衡
        - 在推荐系统中，用户数据通常服从幂律（power law）分布，也就是说大多数用户往往只会提供非常少量的反馈，只有少数热门物品才会获得有较大数量的反馈
      - 冷启动
        - 当有新用户加入系统时，由于系统中缺乏用户历史反馈信息，所以完全无法推断用户的偏好，也就无法做出预测
      - 异构性
        - 推荐系统中的物品有着各自所属的类别和领域，如书籍和玩具，它们各自特有的特征结构，所以不适合用结构上同构的特征进行表示。同样，用户由于自身年龄、性别、职业等差异性的存
      - 脆弱性（Vulnerability）
        - 随着互联网的发展，网上虚假信息和恶意攻击也越来越多，在推荐系统中也是如此。其中，托攻击（shilling attack）便是其中一种典型的攻击方式。在推荐系统中往往存在着一些托用户，他们故意给某些物品打不应有的高分，而对另一些物品故意打低分，造成系统从这些虚假反馈信息中获取了错误的知识
      - 多源数据
        - 用户具有不同的兴趣点，在互联网上活动的热点也不尽相同，所以在各种活动中产生的数据量也极不平衡。此外，用户往往活动于多个互联系统中，跨越多个领域，如：网上购物、房产、股票、游戏等等
      - 社会信息
        - 人具有社会性，人在进行决策时往往非完全独立的，而是受到各种社会因素的影响，所以如何能够充分使用这些社会信息，将有助于提高推荐的效果，并能够缓解数据稀疏性和冷启动问题在，所以用户行为也具有一定的异构性。
  - 研究综述与重要问题(主要为算法的演进，配合一些架构的演进)
  - 机器学习
    - 基于过去的事实和数据，用来发现趋势和模式 
    - 机器学习模型提供了对于结果的洞察力，机器学习帮助揭示未来的一个结果的概率而不仅仅是过去发生的事情 
    - 历史的数据和统计建模被用于概率进行预测
    -传统数据分析旨在回答关于过去的事实，机器学习的目的是回答关于未来事件的可能性的问题!
  - 为什么做推荐(获取新的认知，创造新的智慧，产生有价值的决策)
    - 长尾挖掘
    - 流量利用
    - 用户体验
    - 随位置流量衰减情况(指数衰减)
  - 延伸
  - 挑战
    - 黑天鹅
    - 伪相关
    - "胖"数据
  - 常见问题
    - 最近训练了好几个模型该如何选择
    - 如何证明机器学习模型优于人工设置的模型
    - 几个新设计的方案该如何选择
    - 如何衡量新上功能的效果
  - 难点
    - 不同功能的优化目标不同，不同发展阶段的优化目标不同
    - 不同优化目标可能需要不同的数据和算法
    - 同一算法再不同数据集上的效果差异很大，数据在不断变化
      - item/user比例，新老用户比，稀疏度，时效性
    - 推荐本身对用户行为的影响
      - 推荐列表-用户点击-根据点击数据优化推荐列表
- ## 第二章 数据洞察
  - 数据分析
    - 各类数据是否充足，可用性如何
    - 先数据后模型
    - 显示与隐示反馈
    - 用户数
    - 用户群体
    - 推荐功能
  - 整体架构概览
- ## 第二章 架构与模块概述
  - 特征/数据矩阵
  - 整体架构概览
    - 引擎(后台生成猜你喜欢)
      - 意图
      - 画像
      - 千人千面
      - cf
      - 情境(节日/季节)
      - 反向(复购时间)
      - 主题(商品聚合)
    - 内容处理平台
    - 自适应召回
      - context/profile/parameter
      - search/recom server(federation layer)(各类索引系统)
        - 意图分析
        - query builder
        - 通信/存储模块
      - ranking/predication server
    - 周期性batch模型更新框架(准实时模型更新)
    - 
    - 数据层笨重、逻辑层很薄、很难做到实时;无法持续优化 
      - 数据层：数据层与业务脱离，尽量通用
      - 逻辑层：召回与排序分离
      - 用户意图：独立的用户意图挖掘模块 
    - 数据管理
    - 特征管理
    - 模型管理
    - 特征计算
    - 模型打分
    - 分析洞察
    - 应用
    - 效果闭环
    - 数据可视化平台
      - demo仿真系统
        - 精确模拟真实的推荐
        - 有效评估算法的改进效果
        - 结果的可解释性
        - 业务、产品的协同
      - 实时监控
        - 实时获取调度监控指标
          - 请求量
          - 失败量
          - 平均延时
          - 历史对比
          - 波动告警
        - 及时预警引入人工干预
        - 横向，纵向指标发现异常
      - 日志系统
        - 回溯定位异常与原因
        - 日志规范与组件
          - 服务端
          - 业务端
          - 埋点
          - app本地
        - 数据支撑系统
          - 数据总线
          - schema管理 
          - 连接清洗
        - 数据应用系统
          - 行为分析
          - BI
          - 决策支撑
          - 排查定位问题
          - 监控分析
      - 调度平台 
    - 如何最有效的拆解出公共分支逻辑？对外松耦合，对内逻辑内聚，一次PV只请求一次
  - 推荐各模块(线上/线下)
    - 整体
      - 召回(recall)
        - 海选/初选
        - 从一个或者多个Predictor中读取候选推荐目标
        - 从Search中召回候选推荐目标
      - 过滤(filter)
        – 去掉无货、下架、用户已购商品
      - 计分(rank)
        – 多模型融合
        – 在线CTR预估
      - 排序(sort)
        – 对N个结果进行排序，取最前面的n个
      - 重排
        - 曝光衰减
        - 产品规则
        - badcase
      - 填充(fill)
        – 查询clerk服务，将商品标题、价格、图片等信息补全
      - 推荐解释
      - 结果层
        - 结果渲染及Cache
    - 线下:
      - 离线调研
      - 特征矩阵
        - 提取与挖掘
        - U,I,C,U%I,U&C，U&C&I等特征
        - 序列化
        - KV存储
      - 数据矩阵
        - 数据流，取值监控，数量监控，空值监控
    - 线上
      - 排序机制
      - 在线预估
      - 特征处理，存储
      - 分层框架
    - 机器学习平台
      - 特征归一化
      - 特征选择
      - 模型训练
    - 用户画像
      - 价格偏好
      - 地理位置偏好
      - 品类偏好
    - 系统
      - 数据生成--存储--触发--规则过滤--重排序
  - 相关大数据组件(Hadoop/spark/zookeeper/hive等)
  - 生产环境下的架构注意点
- ## 第三章 数据
  - 数据来源:静态/动态数据(属性，文本数据/行为数据)
  - 显示与隐示数据100:1
  - 数据规模/数据类型
  - 反馈类型
  - 领域知识与特征
  - 用户上下文数据
    - 当前时间
    - 当前位置及位置变换
    - 搜索的关键词
    - 历史交互
  - 数据矩阵
    - 取值监控
    - 数量监控
    - 空值监控
- ## 第三章 召回
  - 召回来源:
    - 上下文相关
      - 内容
      - 发布者
    - 兴趣相关
      - 关系
      - 消费行为
      - 长期/短期兴趣
      - 人群兴趣
    - 行为相关
      - 协同过滤
      - 实时反馈
    - 热门/补足
    - 召回四象限
      - 流行
      - 多样
      - 新鲜
      - 相关
  - 基于协同过滤(记忆/模型/社交)
    - 优点
      - 利用群体智慧，无需依赖背景知识
      - 通用性高
    - 缺点
      - 强依赖用户行为数据
      - 数据稀疏性问题-经验目标：稀疏度>1% 
    - 使用最广
    - 可解释强
    - 各类变体及算法
    - 方法本质:群体智慧
    - 前提假设与条件:
      - 用户给予不同物品不同的评分(隐示/显示)
      - 用户在过去有某种品味，未来也将有相似的某种品味
    - user base cf
      - 基本概念与技术
      - 一些问题:如何度量相似性，考虑多少的邻居，如何从邻居中得到评分
      - 公式与解释(cosine/pearson)
      - 线上如何预测使用
      - 平衡模型中活跃用户的影响
      - common-items越多的用户可以得到越大的权重
      - 置信度问题:
      - 近邻数量的选取
    - item base cf 
      - 由于user-cf可扩展性/计算空间与时间等问题，item-cf被使用
      - 用户间的交集的稀疏性问题
      - 挖掘商品间的关系来取代挖掘用户间关系
      - 比user-cf更稳定
      - 阈值以及近邻的选取
      - 举例:
        - 看了又看
        - 收藏了还收藏了
        - 评论了还评论
    - model  cf
      - offline处理和模型学习
      - 在线使用离线学习到的模型进行预测
      - 模型在一定周期后更新或重新训练
      - 非常多的技术被使用
      - 模型的更新和重新计算非常耗时及计算资源
      - MF
      - 关联规则挖掘:fp-growth
        - 过去经常被一起频繁消费的商品，今后也会被一起消费
        - 利用事先确定好的支持度/置信度/提升度，计算关联商品
        - 适合长尾商品做有效预测，适合session/transaction数据
        - 用户消费差异性被忽略，不是很适合个性化推荐
      - 概率模型:聚类模型贝叶斯网络/LDA
    - 冷启动问题
      - 让一些用户对一些商品打分
      - 使用内容或者人口统计学或非个性化方法
    - graph based
      - 基于图上商品与用户的n度内的关系做推荐
    - 基于近邻的
      - 相似度计算-k近邻-偏好预测
    - 基于模型
      - 部分user-item关系-用隐变量刻画user-item关系-偏好预测
 

  - 基于内容(内容相关的算法及做法)
    - 优点
      - 无需依赖用户数据，回避产品初期的用户不足集稀疏性问题
      - 覆盖率高
    - 缺点
      - 数据建设成本大
      - 人对内容理解的多样性，多层次
    - 可以提供更多的相似性及解决新商品的相似性
    - 信息检索领域最先出现的概念及应用
    - 发现用户对文本(key-word)的兴趣
    - 基于内容与基于知识有着很模糊的边界
    - 用户偏好比显示行为更具有知识
    - cf无法推荐
    - 商品的属性及相关内容信息
    - 能够描述用户偏好的画像
    - 基于内容的工作就是总结出用户的偏好及定义商品内容与用户偏好的相似度
    - 内容相似性无法表现出质量及相关性
    - 短文本
    - 时效性
    - 文本抽取等问题
    - 向量模型
      - tf/idf，tf-idf，cosine-similarity
      - 停用词
      - stem
      - 截断 topN
      - 特征选取
      - 
    - 举例
      - 同主演，同导演
      - 同题材
      - 标题相似
      - 内容相似
  - 基于专家知识
    - 需要领域专家知识
    - 转移产品知识（“教育用户”）
    - 正确的建议
    - 显性知识与社区数据合并
    - 声明式知识库
    - 举例医疗AI
    - 需要专家知识
    - 对于偏好的准确性
    - 稳定与自由度假设
  - 以上三者的优缺点
  - 混合(融合方式)
  - 延伸
    - 基于统计  VS   基于知识库 
    - 优化特征  VS   优化模型 
    - 推荐理由生成 VS   推荐结果计算 
    - Item粒度  VS   Cluster粒度 
    - 一步到位  VS   探索式发现 
    - 文本特征  VS   多媒体特征
- ## 第四章 排序
  - 数据采集与处理(方法和注意点)
    - 电商困境
      - 促销数据过分干扰
      - 稀疏
      - 重复数据
      - 跨类目推荐难题
      - 没有同意的模型整体解决问题
    - 热门但未被点击
    - 位置原因
    - 样本比例，正负样本均衡
    - 数据噪音
      - 不可见和不完整样本过滤
      - 样本采样
      - 异常样本检测
      - 数据为王，垃圾进垃圾出
        - 现实数据是“肮脏”的
        – 数据残缺
        – 数据重复
        – 数据不一致
      - 商业数据更“肮脏”
        - 点击作弊
        - 订单作弊
        - 交易作弊
        - 评论作弊
    - 数据稀疏性
    - 热点数据
    - 长尾需求(提高商品购买率，流量分配，降低马太效应-基尼系数)
    - 降低营销成本
  - 特征工程(定义与做法)
    - 筛选矩阵--序列化--KV服务--提取特征--反序列化--线上与实时特征融合
    - 特征工程
      - 特征预处理:
        - 归一化
        - one-hot
        - 缺失值补充
        - 异常值去除
        - 数据变化
    - 特征分析:连续/离散/周期型/二维联合
    - 特征删减与选择:皮尔逊系数，互信息(引入正则项)
      - filter:计算特征和目标的相关性:方差，卡方检验，相关系数
      - wrapper:根据损失函数，递归增加或者消除若干特征
      - 模型的方法:L1正则，基于树模型
      - 相关性统计/信息增益率/基尼系数:阈值过滤
      - 前向/后向搜索:AIC/BIC准则，最小值
      - 模型选择:随机森林，Lasso，正则项加入
      - 实践中的好方法:
        - 专家经验:和产品多沟通
        - 模型选择:L1正则，GBDT给出重要性排序
        - 用非线性模型取代线性模型来减少对组合特征发现的依赖
        - 快速迭代，快速上线测试
    - high/low level 特征
      - 候选集自带的特征，cf相似度，文本相关性分数
      - 用户类:
        - 人口统计学特征:年龄/性别/收入
        - 类目/品牌偏好
        - 兴趣标签
        - 终端类别
      - 商品类
        - 类目/品牌
        - 标题/描述
      - 上下文
        - 时间
        - 位置
      - 组合特征候选类:2^^n
    - id类特征
    - 并行并级联预估(GBDT--LR,GBDT,Online-learning)
    - 信息检索/统计
      - what:内容与上下文
      - how:历史点击等
    - 长期/短期偏好
      - 长期:消费能力，颜色，尺码
      - 短期:类目，店铺，尺码
    - 商品画像
      - 品牌
      - 颜色/尺码
      - 风格/材质
      - 适用人群
      - 图片
      - pv
      - uv
      - ctr
      - 销售额
      - 促销属性
      - 评论
      - 售后服务
      - 物流
      - 退换货率
    -用户画像
      - 基于本体论的知识表达方式
        - 实例:个体元素
        - 类:个体集合
        - 关系:类之间相互作用
        - 函数:一种特殊的关系
        - 公理:永真断言
        - 本体通常采用谓词逻辑作为描述语言(符号，形式表示)
      - 2B/2C
      - 维度
          - 用户识别
          - 人口特性
          - 交易行为
          - 需求动机
          - 态度
          - 行为偏好
          - 兴趣爱好
            - 实时兴趣
            - 长期兴趣
          - 地理位置
          - 价值观
          - 生活方式
          - 购买力
            - als-wr
          - 品牌兴趣度
            - gbdt+rankSvm
          - 品类兴趣度
          - 基于规则优于svd++
      - 自然语言处理
        - 困难与挑战
          - 文本过短
          - 文字歧义大
          - 长尾问题
          - 覆盖率和准确率的权衡
          - term-phrase-word sense-topic-structure
          - 解决思路
            - 短文本理解:基于外部大数据辅助
        - 标签定义
          - 什么是标签(用户和系统视角)
            - 有意义的片段
            - 文本长度和信息量的平衡
          - 标签作用
            - 标签预测
            - 用户画像
            - 标签推荐
            - 热点发现
          - 标签的提取
            - 词库构建(内外部)(监督和无监督)(新词)
            - 中文分词
            - 词性标注(实词，虚词，名词，动词...)
            - 标签选择
            - 标签集
          - 标签的整合
          - 总结和思考
        - 数据源
        - 产品词挖掘
        - 品牌词挖掘
        - 描述词挖掘
        - 标签关联商品与用户
      - 其它相关机器学习
        - 性别，年龄预测
          - 无标注数据如何解决
          - 如何选取合适的机器学习模型
      - 先提取商品特征再通过交互等提炼为用户标签和用户基本属性
  - 特征存储
    - kv redis-hbase
  - 算法模型(lr/xgboost及优化手段)
    - 大规模机器学习问题
      - 数据特征规模大
      - 特征复杂度高:特征之间存在非线性关系
      - 数据时效性高:新商品和流量上线
      - 数据训练频繁:模型更新，策略调研
    - 参数搜索
    - 文本相关性模型 -> 行为相关性模型 -> CTR模型(FTRL)
    - 线性模型+组合特征效果很好
      - 离线实验了FM等非线性模型，效果不明显 
 
    - 线性模型+深度模型是未来的方向
      - 正在线下实验，已经看到一些效果 
    - 计算
      - lr
      - xgboost(非线性模型& 特征选择功能)
        - Decision Tree 简单贪婪
        - Bagging 民主智慧
        - Boosting 知错就改
        - Shrinkage 小步快跑
      - fm
      - rbm
      - dbn
      - dnn
    - 点击率预估
      - 规则-爆款模型-个性化模型-e&e(加入特征不同)优缺点
      - 历史统计版的点击率预估
        - 不足:数据稀疏，点击率未必恒定，需要大量展现才能得到可靠估计
      - 基于机器学习的点击率预估
      - 
      - 正常/异常点击
      - 定义与目的
      - 影响因素
        - 商品自身:文字/图片/颜色/价格等
        - 上下文:位置/尺寸/时间/位置 
        - 用户:性别/年龄/兴趣爱好/历史行为
      - 局限性:位置，曝光
      - 预测方法(概率模型:Position-model,Cascade-model,User-browsing-model,Dynamic-Bayesian-network-model)
      - 数据稀疏性问题:时间与类型等维度的关联
      - 数据关联方法
        - 用前一天的曝光/点击数对后一天的数据进行平滑
        - 用平滑后的曝光和点击数来计算后一天的点击率
        - 同类型的关键词点击率具有相关性
        - 汇总同类型的关键词数据进行预测
      - 用户属性对点击率的影响
        - 兴趣爱好/上网习惯
        - 不同用户对同一商品点击率不同
    - 用户浏览模型(VPI)
      - 考虑搜索满意程度和耐心度
      - 考虑搜索结果概率
      - 未点击时放弃整个结果的概率
      - 模型中的五组变量
        - 最初搜索动机，是否浏览，是否点击，商品是否相关(表面)，是否相关(实际)
        - 五组变量以概率关系建模，只有是否点击为可见变量
        - 用EM算法求解
    - 基于协同过滤的用户兴趣分析(MF)
    - 基于特征的方法
      - 要素:特征/目标函数
      - 用特征向量描述商品相关信息:商品内容，用户信息，上下文环境等
      - 基于特征的向量预测点击率
    - bayesian ctr 预估
      - 特征:查询词特征，结果页的内容特征
      - 模型:判别模型
      - 在线学习，并行计算
    - 根据结论设计点击率预测模型:在基础概率模型上加上attention bias和exploration bias
    - 位置对点击率的影响
      - 相似位置点击率相近
      - 自动学习位置这个类别信息
      - 单位置点击率研究(首看与后续耐心度问题)
      - 解决:1.使用不同排位上的平均CTR进行调整;2.当排位低被点击而排位高的没被点击则作为训练数据
    - 图像对点击率的影响
    - 商品间的互相影响
    - 不同用户对同一个广告点击率差异较大:将用户特征加入模型进行预测
  - 排序机制
    - 业务规则
    - E&E
    - 点击率预估，转化率预估，即时反馈模型
  - 离线训练与线上部署(流程与组件使用)
  - 置信度(定义及在数据及算法中的应用)
  - online learning
    - 实时快速迭代--快速反映线上变化
    - 为什么
      - 用户兴趣不断变化
      - 线下，sku情况变化
      - 事件，热点
    - 模型实时更新，训练数据尽可能少
      - 稀疏性(稀疏在线算法)
      - 时效性
      - 稳定性
  - 训练样本生产
    - 数据清洗:无效加载，skip above +2
    - point-wise和pair-wise
  - l2r
    - 整体思维，point-wise/pair-wise
  - 预估中的平滑思想
    - 主要针对新上架商品
    - 高于/低于
    - UCB思想
    - 置信区间上界
    - 为什么平滑:ctr随时间变化；并且短期可能回波动；利用历史CTR作为先验知识
  - 重排序
    - 点击反馈
    - 多样性
    - 根据线索分组
    - 人工调权
    - 节奏控制
  - 延伸
- ## 第五章 其它
  - 收集数据或理解数据
    - 先数据，后模型
    - 数据搜集
      - 目标数据(内外部数据)
      - 额外数据(天气/经纬度/节假日/cpi)
      - 线上:strom-流式处理-实时数据(redis)/增量索引(elastic)-特征计算/模型预测/规则洗牌
      - 线下:hadoop-批处理-hive-样本集/索引-效果统计/特征挖掘/模型训练
    - 数据探索
      - 对数据检查和理解:库存为负
      - 对结果变量的分析:分布/趋势性/周期性
      - 对预测变量的分析:变量筛选，多重共线性，相关性
    - 数据预处理
      - 中心化和标准化
      - 缺失值处理:邻近插值/多重插补/线性插补/随机插补/均值插补
      - 数据转换:取对数/box-cox变换，变换为正态分布
      - 离群点处理
      - 数据降维和特征选择:PCA,AIC,BIC
  - 实时个性化
    - 几个值
      - 时间窗口
      - 观测值的累积效应
      - 新热度评估策略
    - 个性化的时效性(当前点击xxx，未来点击xxx的概率)
    - 变化是时刻进行的
      - 商品在变化
      - 用户个体在变化
      - 群体/环境在变化
      - 个体和群体的隶属关系也在动态变化
    - 实时特征和模型一般使用离线数据(item+user特征)+实时用户数据(user特征)
    - 推荐时机
      - 兴趣发现和收敛速度
      - 对于智能程度的感知
    - 推荐质量
      - 内容时效性
      - 列表新颖性
  - 多样性
    - 类目/品牌打散
  - 时间衰减
  - 不同位置的推荐产品定位不同
    - 单品页：购买意图
    - 过渡页：提高客单价
    - 购物车页：购物决策
    - 无结果页：减少跳出率
    - 订单完成页：交叉销售
    - 关注推荐：提高转化
    - 我的xx推荐：提高忠诚度
- ## 第五章 评价
  - HEART模型
    - Happiness 愉悦度
      - 满意度
      - 推荐度
      - 感知易用性
    - Engagement 沉浸度
      - 使用频度
      - 访问频次
      - 页面点击
      - 停留时长
    - Adoption 采纳性
      - 新用户率
      - 客流量
      - 退出率
    - Retention ⽤用户粘度
      - 老用户留存率
      - 周回访率
      - 周访问频率
    - Task Success 任务完成度
  - 实践
    - 原始时代：PM review
    - 农耕时代：crowdsourcing
    - 机器时代：AB testing
  - 产品域角度 
    - 依赖于产品领域知识及目的
    - 无整体评估方案存在
  - 信息检索角度
    - 路径优化
    - 准确的推荐
  - 推荐系统角度
    - 长尾挖掘
    - 用户不知道什么商品存在
  - 准确度角度
    - 准确预测用户对商品的评分
    - 最常用的评估
  - 交互角度
    - 用户好的体验
    - 教育引导
    - 说服并使用户信任
  - 其它视角
    - 商业情况
    - 点击/转化等比率
    - 优化销售边界和利润
  - 离线指标与评价(auc/ndcg/roc等)
  - 线上指标与评价(abtest/ctr/cvr/gmv等)
    - AA/AB测试
      - 候选策略+预测模型作为最小的考察单元
      - 通过规则配置ABtest:配置流量切分，候选策略及预测模型
      - 重视抽样误差
    - ABtest
      - 无数据，不优化
        – 线上分流实验是进行推荐算法优化的必由之路
      - 关注时间周期效应
      - 指标定义
        – CTR
        – 转化率
        – 销售额 (RPM …)
      - 数据收集
        – 点击流系统 (Mercury)
        – 数字签名，防篡改
      - 数据处理：
        – Hive (standing query)
        – Shark (ad hoc query)
      - 实验管理平台
      - 实验报告
        - 恶意数据过滤
        - 效果平滑
        - 效果波动告警
    - 分流策略
      - 幂等-均匀化-并行-互斥
      - 分层实验，促进流量的最大化利用
      - Random
        – 随机分流，用于可变结果集
      - Partition By User
        – 按用户切分，同一用户永远看到同样结果
      - Partition By Category
        – 按分类切分，针对不同分类测试算法针对性
    - 配置管理后台
      - 图形界面配置线上分流实验，配置即时生效，避免反复上线
      - 增加实验，选择分流策略
      - 调整流量，设置生效时间
      - 配置追溯和回滚
    - 推荐结果持续改进
        - 利用调试页面，对推荐结果进行内部review
        - 将调试页面提供给产品或者业务review推荐结果，给出反馈意见
        - 收到反馈意见后，与算法工程师讨论，安排算法优化
        - 将优化后的结果进行线上分流实验，并将新结果调试页面发给产品或者业务，供其参照对比
        - 收集实验数据，验证算法优化对指标的影响。将实验结果发送给产品或者业务，并解释算法优化的逻辑
        - 优化算法正式上线
        - 调试页面
    - 挑战：
      - 人工评价 v.s. AB testing指标存在冲突
      - 交互与社会化元素如何评价
      - 短时用户喜好 v.s. 长期用户成长
  - 局部与整体优化(相关概念)
  - 延伸
- ## 第六章 其它相关技术
  - 电商的粉丝时代
    - 达人+社会化+内容+ 粉丝+社群
    - 场景化
    - 去中心化
  - GMV vs 生态
  - 搜索引擎(异同)
  - 计算广告(异同)
  - 健康库存
  - 智慧选品
  - 智慧定价
  - 猫眼票房预测
  - 社会网络
    - 社交关系图谱
    - 复杂网络应用
      - 影响力模型
        - 拓扑特征(关系类型/社交圈子数/微信群数)
        - 行为特征(转发/点赞)
  - 正确步骤
    - 指标:找到可能的提升点--基于大数据挖掘的数据洞察——找到提升方向 
      - 图书、食品、日用百货更容易产生跨类组合购买 
      - 3C、大家电跨类组合具有方向性 
      - 奢饰品、礼品箱包等品类不易产生跨类组合购买 
    - 假设:做一个合理的猜想
    - 实验:测试你的猜想
      - 新鲜期影响
      - 部分优化
      - 周期性影响
      - 指标的选择
    - 行动:决定下一步
      - 快速迭代算法
      - 推荐搜索深度整合
        - nlp提取产品中心词
- ## 第六章 前沿未来
  - 深度学习(文本处理)
  - 强化学习(反馈模型)
  - 延伸
